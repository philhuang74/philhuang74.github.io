---
layout: post
title: Blog Post 1 HW
---

```python
import sqlite3
import pandas as pd
import numpy as np
```

Create a database connection with the sqlite3 package.


```python
conn = sqlite3.connect("temps_stations_countries.db") # create a database in current directory called temps_stations_countries.db
```

Since the data from temps.csv is quite large, lets read it in by chunks. Note df_iter is not a dataframe, but iterating through it with the next magic method will give the dataframe of 100,000 rows.


```python
df_iter = pd.read_csv("temps.csv", chunksize = 100000) #make sure temps.csv is in the same folder
df = df_iter.__next__()
```


```python
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Year</th>
      <th>VALUE1</th>
      <th>VALUE2</th>
      <th>VALUE3</th>
      <th>VALUE4</th>
      <th>VALUE5</th>
      <th>VALUE6</th>
      <th>VALUE7</th>
      <th>VALUE8</th>
      <th>VALUE9</th>
      <th>VALUE10</th>
      <th>VALUE11</th>
      <th>VALUE12</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>-89.0</td>
      <td>236.0</td>
      <td>472.0</td>
      <td>773.0</td>
      <td>1128.0</td>
      <td>1599.0</td>
      <td>1570.0</td>
      <td>1481.0</td>
      <td>1413.0</td>
      <td>1174.0</td>
      <td>510.0</td>
      <td>-39.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ACW00011604</td>
      <td>1962</td>
      <td>113.0</td>
      <td>85.0</td>
      <td>-154.0</td>
      <td>635.0</td>
      <td>908.0</td>
      <td>1381.0</td>
      <td>1510.0</td>
      <td>1393.0</td>
      <td>1163.0</td>
      <td>994.0</td>
      <td>323.0</td>
      <td>-126.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ACW00011604</td>
      <td>1963</td>
      <td>-713.0</td>
      <td>-553.0</td>
      <td>-99.0</td>
      <td>541.0</td>
      <td>1224.0</td>
      <td>1627.0</td>
      <td>1620.0</td>
      <td>1596.0</td>
      <td>1332.0</td>
      <td>940.0</td>
      <td>566.0</td>
      <td>-108.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ACW00011604</td>
      <td>1964</td>
      <td>62.0</td>
      <td>-85.0</td>
      <td>55.0</td>
      <td>738.0</td>
      <td>1219.0</td>
      <td>1442.0</td>
      <td>1506.0</td>
      <td>1557.0</td>
      <td>1221.0</td>
      <td>788.0</td>
      <td>546.0</td>
      <td>112.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ACW00011604</td>
      <td>1965</td>
      <td>44.0</td>
      <td>-105.0</td>
      <td>38.0</td>
      <td>590.0</td>
      <td>987.0</td>
      <td>1500.0</td>
      <td>1487.0</td>
      <td>1477.0</td>
      <td>1377.0</td>
      <td>974.0</td>
      <td>31.0</td>
      <td>-178.0</td>
    </tr>
  </tbody>
</table>
</div>



Let's write a function that prepares and cleans the temps dataframe.


```python
def prepare_df(df):
    '''
    Prepares the temps.csv dataframe
    Input: temps dataframe
    Output: cleaned temps dataframe
    '''
    df = df.set_index(keys=["ID", "Year"]) #don't stack these columns
    df = df.stack() #stack all the other columns, namely the Temp for each month, not a dataframe
    df = df.reset_index() #resetting index converts it back to dataframe
    #rename the columns into Month and Temp
    df = df.rename(columns = {"level_2"  : "Month" , 0 : "Temp"}) #level_2 because column (ID) 0, column (Year) 1, and column 2
    df["Month"] = df["Month"].str[5:].astype(int) #Get the fifth value of string, which is the number of the month
    df["Temp"]  = df["Temp"] / 100 #Divide temp by 100 to get the actual temp
    return df #return the dataframe
```

What we have here is a clean dataframe of ID, Year of the measurement, Month of the measurement, and the Temp of each of the months.


```python
df = prepare_df(df)
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Year</th>
      <th>Month</th>
      <th>Temp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>1</td>
      <td>-0.89</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>2</td>
      <td>2.36</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>3</td>
      <td>4.72</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>4</td>
      <td>7.73</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>5</td>
      <td>11.28</td>
    </tr>
  </tbody>
</table>
</div>



Now lets iterate over the chuncks of the temps.csv file and clean the data so that we can append it to our sql database. 


```python
df_iter = pd.read_csv("temps.csv", chunksize = 100000)
for df in df_iter:
    df = prepare_df(df)
    df.to_sql("temperatures", conn, if_exists = "append", index = False) #index=False prevents writing pandas dataframe index
```

This will take some time to run. The next part is to read stations dataframe in and add it as a seperate table in our SQL database.


```python
url = "https://raw.githubusercontent.com/PhilChodrow/PIC16B/master/datasets/noaa-ghcn/station-metadata.csv"
stations = pd.read_csv(url)
stations["ID2"]=stations["ID"].str.get(0) + stations["ID"].str.get(1) # This will get the id of the country that we will use to left join later with temps and countries
stations.to_sql("stations", conn, if_exists = "replace", index = False) #writing the dataframe table into SQL database, replace if table already exists.
stations.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>LATITUDE</th>
      <th>LONGITUDE</th>
      <th>STNELEV</th>
      <th>NAME</th>
      <th>ID2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ACW00011604</td>
      <td>57.7667</td>
      <td>11.8667</td>
      <td>18.0</td>
      <td>SAVE</td>
      <td>AC</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AE000041196</td>
      <td>25.3330</td>
      <td>55.5170</td>
      <td>34.0</td>
      <td>SHARJAH_INTER_AIRP</td>
      <td>AE</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AEM00041184</td>
      <td>25.6170</td>
      <td>55.9330</td>
      <td>31.0</td>
      <td>RAS_AL_KHAIMAH_INTE</td>
      <td>AE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AEM00041194</td>
      <td>25.2550</td>
      <td>55.3640</td>
      <td>10.4</td>
      <td>DUBAI_INTL</td>
      <td>AE</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AEM00041216</td>
      <td>24.4300</td>
      <td>54.4700</td>
      <td>3.0</td>
      <td>ABU_DHABI_BATEEN_AIR</td>
      <td>AE</td>
    </tr>
  </tbody>
</table>
</div>



Do the same with countries data and read it into SQL database.


```python
countries_url = "https://raw.githubusercontent.com/mysociety/gaze/master/data/fips-10-4-to-iso-country-codes.csv"
countries = pd.read_csv(countries_url)
countries.to_sql("countries",conn, if_exists="replace",index = False)
countries.head()
```

    /Users/philiphuang/opt/anaconda3/lib/python3.8/site-packages/pandas/core/generic.py:2605: UserWarning: The spaces in these column names will not be changed. In pandas versions < 0.14, spaces were converted to underscores.
      sql.to_sql(





<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FIPS 10-4</th>
      <th>ISO 3166</th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AF</td>
      <td>AF</td>
      <td>Afghanistan</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AX</td>
      <td>-</td>
      <td>Akrotiri</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AL</td>
      <td>AL</td>
      <td>Albania</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AG</td>
      <td>DZ</td>
      <td>Algeria</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AQ</td>
      <td>AS</td>
      <td>American Samoa</td>
    </tr>
  </tbody>
</table>
</div>




```python
countries[countries["Name"]=="India"] #Checking to make sure we have India since we want to graph temperatures later
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FIPS 10-4</th>
      <th>ISO 3166</th>
      <th>Name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>113</th>
      <td>IN</td>
      <td>IN</td>
      <td>India</td>
    </tr>
  </tbody>
</table>
</div>



Checking that we have three tables in our database.


```python
cursor = conn.cursor()
cursor.execute("SELECT name FROM sqlite_master WHERE type='table'")
print(cursor.fetchall())
```

    [('temperatures',), ('stations',), ('countries',)]


Checking each of the tables and its variables in the database.


```python
cursor.execute("SELECT sql FROM sqlite_master WHERE type='table';")

for result in cursor.fetchall():
    print(result[0])
```

    CREATE TABLE "temperatures" (
    "ID" TEXT,
      "Year" INTEGER,
      "Month" INTEGER,
      "Temp" REAL
    )
    CREATE TABLE "stations" (
    "ID" TEXT,
      "LATITUDE" REAL,
      "LONGITUDE" REAL,
      "STNELEV" REAL,
      "NAME" TEXT,
      "ID2" TEXT
    )
    CREATE TABLE "countries" (
    "FIPS 10-4" TEXT,
      "ISO 3166" TEXT,
      "Name" TEXT
    )


We want to answer the question: How does the average yearly change in temperature vary within a given country?

To do this, we can create a function that will query specific information from the climate database we created. We assume the connection has already been made to run this function.


```python
def query_climate_database(country,year_begin,year_end,month):
    '''
    Returns a pandas dataframe with the specified information in arguments for query
    Input: country (a string), year_begin (integer), year_end (integer), month (integer)
    Output: a pandas dataframe of temperature readings for the specified country, in the specified date range, in the specified month of the year. 
    '''
    
    cmd = \
    f"""
    SELECT S.name, S.latitude, S.longitude, C.name, T.year, T.month, T.temp 
    FROM temperatures T
    LEFT JOIN stations S ON T.id = S.id 
    LEFT JOIN countries C ON S.'ID2' = C.`FIPS 10-4`
    WHERE C.name = '{country}' AND T.year >= {year_begin} AND T.year <= {year_end} AND T.month = {month}
    """
    
    df = pd.read_sql_query(cmd, conn)
    return df
```

We can now query information on temperature data from India from year 1980-2020 in the month of January.


```python
df_query = query_climate_database(country = "India", 
                       year_begin = 1980, 
                       year_end = 2020,
                       month = 1)
```

Darjeeling tea is great, dataframe looks good.


```python
df_query
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NAME</th>
      <th>LATITUDE</th>
      <th>LONGITUDE</th>
      <th>Name</th>
      <th>Year</th>
      <th>Month</th>
      <th>Temp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1980</td>
      <td>1</td>
      <td>23.48</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1981</td>
      <td>1</td>
      <td>24.57</td>
    </tr>
    <tr>
      <th>2</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1982</td>
      <td>1</td>
      <td>24.19</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1983</td>
      <td>1</td>
      <td>23.51</td>
    </tr>
    <tr>
      <th>4</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1984</td>
      <td>1</td>
      <td>24.81</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3147</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1983</td>
      <td>1</td>
      <td>5.10</td>
    </tr>
    <tr>
      <th>3148</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1986</td>
      <td>1</td>
      <td>6.90</td>
    </tr>
    <tr>
      <th>3149</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1994</td>
      <td>1</td>
      <td>8.10</td>
    </tr>
    <tr>
      <th>3150</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1995</td>
      <td>1</td>
      <td>5.60</td>
    </tr>
    <tr>
      <th>3151</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1997</td>
      <td>1</td>
      <td>5.70</td>
    </tr>
  </tbody>
</table>
<p>3152 rows × 7 columns</p>
</div>



We can create a new column called Observation where we counts the number of observation in that specific station in the month of January.


```python
df_query["Observation"] = df_query.groupby(["NAME"])["Year"].transform(len) #Transform will maintain the number of rows
df_query = df_query[df_query["Observation"]>=10]
df_query
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NAME</th>
      <th>LATITUDE</th>
      <th>LONGITUDE</th>
      <th>Name</th>
      <th>Year</th>
      <th>Month</th>
      <th>Temp</th>
      <th>Observation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1980</td>
      <td>1</td>
      <td>23.48</td>
      <td>34</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1981</td>
      <td>1</td>
      <td>24.57</td>
      <td>34</td>
    </tr>
    <tr>
      <th>2</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1982</td>
      <td>1</td>
      <td>24.19</td>
      <td>34</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1983</td>
      <td>1</td>
      <td>23.51</td>
      <td>34</td>
    </tr>
    <tr>
      <th>4</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1984</td>
      <td>1</td>
      <td>24.81</td>
      <td>34</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3140</th>
      <td>SHILONG</td>
      <td>25.600</td>
      <td>91.890</td>
      <td>India</td>
      <td>1986</td>
      <td>1</td>
      <td>10.40</td>
      <td>11</td>
    </tr>
    <tr>
      <th>3141</th>
      <td>SHILONG</td>
      <td>25.600</td>
      <td>91.890</td>
      <td>India</td>
      <td>1990</td>
      <td>1</td>
      <td>11.20</td>
      <td>11</td>
    </tr>
    <tr>
      <th>3142</th>
      <td>SHILONG</td>
      <td>25.600</td>
      <td>91.890</td>
      <td>India</td>
      <td>2010</td>
      <td>1</td>
      <td>11.99</td>
      <td>11</td>
    </tr>
    <tr>
      <th>3143</th>
      <td>SHILONG</td>
      <td>25.600</td>
      <td>91.890</td>
      <td>India</td>
      <td>2011</td>
      <td>1</td>
      <td>9.93</td>
      <td>11</td>
    </tr>
    <tr>
      <th>3144</th>
      <td>SHILONG</td>
      <td>25.600</td>
      <td>91.890</td>
      <td>India</td>
      <td>2012</td>
      <td>1</td>
      <td>9.68</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
<p>3106 rows × 8 columns</p>
</div>



Now lets create a linear regression model to estimate the yearly increase in temperature.


```python
from sklearn.linear_model import LinearRegression

def coef(data_group):
    x = data_group[["Year"]] # 2 brackets because X should be a df
    y = data_group["Temp"]   # 1 bracket because y should be a series
    LR = LinearRegression()
    LR.fit(x, y)
    return LR.coef_[0]

```

We want to keep the name, latitude, and longitude and apply the coef function on the temperature column. Notice the number of rows has shrunk.


```python
coefs = df_query.groupby(["NAME","LATITUDE","LONGITUDE"]).apply(coef) 
coefs = coefs.reset_index()
coefs["Estimated Year Increase (°C)"] = coefs[0].round(5)
coefs = coefs.drop(columns = 0)
coefs
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NAME</th>
      <th>LATITUDE</th>
      <th>LONGITUDE</th>
      <th>Estimated Year Increase (°C)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AGARTALA</td>
      <td>23.883</td>
      <td>91.250</td>
      <td>-0.00618</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AHMADABAD</td>
      <td>23.067</td>
      <td>72.633</td>
      <td>0.00673</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AKOLA</td>
      <td>20.700</td>
      <td>77.033</td>
      <td>-0.00178</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AKOLA</td>
      <td>20.700</td>
      <td>77.067</td>
      <td>-0.00594</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ALLAHABAD</td>
      <td>25.441</td>
      <td>81.735</td>
      <td>-0.02938</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>94</th>
      <td>TRIVANDRUM</td>
      <td>8.500</td>
      <td>77.000</td>
      <td>0.02289</td>
    </tr>
    <tr>
      <th>95</th>
      <td>UDAIPUR_DABOK</td>
      <td>24.617</td>
      <td>73.883</td>
      <td>0.07242</td>
    </tr>
    <tr>
      <th>96</th>
      <td>VARANASI_BABATPUR</td>
      <td>25.450</td>
      <td>82.867</td>
      <td>-0.01300</td>
    </tr>
    <tr>
      <th>97</th>
      <td>VERAVAL</td>
      <td>20.900</td>
      <td>70.367</td>
      <td>0.02485</td>
    </tr>
    <tr>
      <th>98</th>
      <td>VISHAKHAPATNAM</td>
      <td>17.717</td>
      <td>83.233</td>
      <td>-0.03405</td>
    </tr>
  </tbody>
</table>
<p>99 rows × 4 columns</p>
</div>



Now lets plot the given dataframe into a map where the locations are points on the map and the color represents the estimated year increase in temperature.


```python
from plotly import express as px
color_map = px.colors.diverging.RdGy_r
fig = px.scatter_mapbox(coefs, 
                        lat = "LATITUDE",
                        lon = "LONGITUDE", 
                        hover_name = "NAME", 
                        color = "Estimated Year Increase (°C)",
                        zoom = 1,
                        height = 300,
                        color_continuous_scale=color_map,
                        color_continuous_midpoint=0,
                        mapbox_style="carto-positron")

fig.update_layout(margin={"r":0,"t":0,"l":0,"b":0})
fig.show()
```


<div>                            <div id="da941d6d-4027-4779-8a22-743b3151cdc9" class="plotly-graph-div" style="height:300px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("da941d6d-4027-4779-8a22-743b3151cdc9")) {                    Plotly.newPlot(                        "da941d6d-4027-4779-8a22-743b3151cdc9",                        [{"hovertemplate": "<b>%{hovertext}</b><br><br>LATITUDE=%{lat}<br>LONGITUDE=%{lon}<br>Estimated Year Increase (\u00b0C)=%{marker.color}<extra></extra>", "hovertext": ["AGARTALA", "AHMADABAD", "AKOLA", "AKOLA", "ALLAHABAD", "ALLAHABAD_BAMHRAULI", "AMRITSAR", "AURANGABAD_CHIKALTH", "BALASORE", "BANGALORE", "BAREILLY", "BEGUMPETOBSY", "BELGAUM_SAMBRA", "BHOPAL_BAIRAGARH", "BHUBANESWAR", "BHUJ_RUDRAMATA", "BIKANER", "BOMBAY_COLABA", "BOMBAY_SANTACRUZ", "CALCUTTA_ALIPORE", "CALCUTTA_DUM_DUM", "CHERRAPUNJI", "CHERRA_POONJEE", "CHITRADURGA", "COIMBATORE_PEELAMED", "CUDDALORE", "DALTONGANJ", "DEHRADUN", "DIBRUGARH_MOHANBAR", "DUMKA", "DWARKA", "GADAG", "GANGANAGAR", "GAUHATI", "GAYA", "GOA_PANJIM", "GORAKHPUR", "GUNA", "GWALIOR", "HISSAR", "HONAVAR", "IMPHAL", "INDORE", "JABALPUR", "JAGDALPUR", "JAIPUR_SANGANER", "JAISALMER", "JHARSUGUDA", "JODHPUR", "KAKINADA", "KARAIKAL", "KODAIKANAL", "KOTA_AERODROME", "KOZHIKODE", "KURNOOL", "LUCKNOW_AMAUSI", "LUDHIANA", "MACHILIPATNAM", "MADRAS_MINAMBAKKAM", "MANGALORE_BAJPE", "MINICOY", "MINICOYOBSY", "MO_AMINI", "MO_RANCHI", "MUKTESWAR_KUMAON", "NAGPUR_SONEGAON", "NELLORE", "NEW_DELHI_PALAM", "NEW_DELHI_SAFDARJUN", "NORTH_LAKHIMPUR", "PAMBAN", "PATIALA", "PATNA", "PBO_ANANTAPUR", "PENDRA_ROAD", "POONA", "PORT_BLAIR", "RAIPUR", "RAJKOT", "RAMGUNDAM", "RATNAGIRI", "SAGAR", "SANDHEADS", "SATNA", "SHILONG", "SHIMLA", "SHOLAPUR", "SILCHAR", "SRINAGAR", "SURAT", "TEZPUR", "THIRUVANANTHAPURAM", "THIRUVANANTHAPURAM", "TIRUCHCHIRAPALLI", "TRIVANDRUM", "UDAIPUR_DABOK", "VARANASI_BABATPUR", "VERAVAL", "VISHAKHAPATNAM"], "lat": [23.883000000000003, 23.066999999999997, 20.7, 20.7, 25.441, 25.5, 31.71, 19.85, 21.517, 12.967, 28.366999999999997, 17.45, 15.85, 23.283, 20.25, 23.25, 28.0, 18.9, 19.117, 22.533, 22.65, 25.25, 25.25, 14.232999999999999, 11.033, 11.767000000000001, 24.05, 30.316999999999997, 27.483, 24.267, 22.3667, 15.417, 29.916999999999998, 26.1, 24.75, 15.482999999999999, 26.75, 24.65, 26.233, 29.166999999999998, 14.283, 24.666999999999998, 22.717, 23.2, 19.083, 26.816999999999997, 26.9, 21.916999999999998, 26.3, 16.95, 10.917, 10.2333, 25.15, 11.25, 15.8, 26.75, 30.9333, 16.2, 13.0, 12.917, 8.3, 8.3, 11.117, 23.316999999999997, 29.4667, 21.1, 14.45, 28.566999999999997, 28.583000000000002, 27.233, 9.267000000000001, 30.333000000000002, 25.6, 14.583, 22.767, 18.533, 11.667, 21.217, 22.3, 18.767, 16.983, 23.85, 20.85, 24.566999999999997, 25.6, 31.1, 17.667, 24.82, 34.083, 21.2, 26.616999999999997, 8.467, 8.482999999999999, 10.767000000000001, 8.5, 24.616999999999997, 25.45, 20.9, 17.717], "legendgroup": "", "lon": [91.25, 72.633, 77.033, 77.067, 81.735, 81.9, 74.797, 75.4, 86.93299999999999, 77.583, 79.4, 78.47, 74.617, 77.35, 85.833, 69.667, 73.3, 72.8167, 72.85, 88.333, 88.45, 91.7333, 91.73, 76.433, 77.05, 79.767, 84.06700000000001, 78.033, 95.01700000000001, 87.25, 69.0833, 75.633, 73.917, 91.583, 84.95, 73.817, 83.367, 77.317, 78.25, 75.733, 74.45, 93.9, 75.8, 79.95, 82.03299999999999, 75.8, 70.917, 84.083, 73.017, 82.23299999999999, 79.833, 77.4667, 75.85, 75.783, 78.067, 80.883, 75.8667, 81.15, 80.183, 74.883, 73.15, 73.0, 72.733, 85.31700000000001, 79.65, 79.05, 79.983, 77.117, 77.2, 94.117, 79.3, 76.467, 85.1, 77.633, 81.9, 73.85, 92.71700000000001, 81.667, 70.783, 79.433, 73.333, 78.75, 88.25, 80.833, 91.89, 77.167, 75.9, 92.83, 74.833, 72.833, 92.78299999999999, 76.95, 76.95, 78.717, 77.0, 73.883, 82.867, 70.367, 83.23299999999999], "marker": {"color": [-0.00618, 0.00673, -0.00178, -0.00594, -0.02938, -0.01546, -0.007, 0.01243, -0.00854, 0.03605, -0.01692, 0.01066, -0.00359, -0.02214, -0.01613, 0.06992, 0.01718, 0.01145, 0.03473, -0.01035, -0.01618, 0.04651, -0.02197, 0.01559, 0.03437, 0.02081, -0.00462, 0.04361, 0.05196, -0.08209, 0.01696, 0.00892, -0.00758, 0.0141, -0.01813, 0.0224, 0.00394, -0.00917, -0.0184, -0.00338, -0.04917, 0.06331, 0.00301, -0.02523, -0.00014, 0.00675, 0.00262, -0.01848, 0.00968, 0.02602, 0.02129, 0.06909, -0.01858, 0.03339, 0.02565, -0.03723, 0.13179, 0.01227, 0.02374, 0.02329, 0.02521, 0.01411, -0.00625, 0.00527, 0.01548, -0.02462, 0.02347, 0.00559, -0.00241, 0.09548, 0.02484, -0.01165, -0.02186, 0.02626, -0.00955, -0.00044, 0.03073, 0.00143, 0.01569, -0.00888, 0.00324, 0.00154, -0.05245, -0.02261, 0.01345, 0.00401, 0.00378, 0.01608, 0.04876, 0.0232, 0.03942, 0.00858, 0.02058, 0.01461, 0.02289, 0.07242, -0.013, 0.02485, -0.03405], "coloraxis": "coloraxis"}, "mode": "markers", "name": "", "showlegend": false, "subplot": "mapbox", "type": "scattermapbox"}],                        {"coloraxis": {"cmid": 0, "colorbar": {"title": {"text": "Estimated Year Increase (\u00b0C)"}}, "colorscale": [[0.0, "rgb(26,26,26)"], [0.1, "rgb(77,77,77)"], [0.2, "rgb(135,135,135)"], [0.3, "rgb(186,186,186)"], [0.4, "rgb(224,224,224)"], [0.5, "rgb(255,255,255)"], [0.6, "rgb(253,219,199)"], [0.7, "rgb(244,165,130)"], [0.8, "rgb(214,96,77)"], [0.9, "rgb(178,24,43)"], [1.0, "rgb(103,0,31)"]]}, "height": 300, "legend": {"tracegroupgap": 0}, "mapbox": {"center": {"lat": 21.042010101010096, "lon": 79.63467373737372}, "domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "style": "carto-positron", "zoom": 1}, "margin": {"b": 0, "l": 0, "r": 0, "t": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('da941d6d-4027-4779-8a22-743b3151cdc9');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>


Lets put the code we have created into a function to make it easier for people to create the coefficient plots for different scenarious and different layouts.


```python
def temperature_coefficient_plot(country,year_begin,year_end,month,min_obs,**kwargs):
    '''
    Plots the figure of a temperature coefficient plot
    Input: country, a string, year_begin and year_end, a integer, min_obs, an integer, and any plot specifications with **kwargs for px.scatter_mapbox()
    Output: a figure is shown, nothing is returned
    '''
    monthsDict = {1:"January", 2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}
    df = query_climate_database(country,year_begin,year_end,month)
    df["Observation"] = df.groupby(["NAME"])["Year"].transform(len)
    df = df[df["Observation"] >= min_obs]
    df = df.groupby(["NAME","LATITUDE","LONGITUDE"]).apply(coef)
    df = df.reset_index()
    df["Estimated Year Increase (°C)"] = df[0].round(5)
    df = df.drop(columns = 0)
    fig = px.scatter_mapbox(df, 
                            lat = "LATITUDE",
                            lon = "LONGITUDE", 
                            hover_name = "NAME", 
                            title = f"Estimates of Yearly Increase in Temperature in {monthsDict[month]} for Stations in {country}, years {year_begin}-{year_end}",
                            color = "Estimated Year Increase (°C)",
                            **kwargs
                            )

    fig.update_layout(margin = {"r":0,"t":30,"l":0,"b":0})
    fig.show()
```


```python
# temperature_coefficient_plot("India",1980,2020,1,min_obs=10,mapbox_style="carto-positron", color_continuous_midpoint=0) #This will not show a map if mapbox_style is not indicated
```

To get a map, we need to specify the mapbox_style. Let's test our function out.


```python
# assumes you have imported necessary packages
color_map = px.colors.diverging.RdGy_r # choose a colormap

temperature_coefficient_plot("India", 1980, 2020, 1, 
                             min_obs = 10,
                             zoom = 2,
                             mapbox_style="carto-positron",
                             color_continuous_midpoint=0,
                             color_continuous_scale=color_map)
```


<div>                            <div id="50fe53a3-46cf-4fe0-b687-9dbb599035f0" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("50fe53a3-46cf-4fe0-b687-9dbb599035f0")) {                    Plotly.newPlot(                        "50fe53a3-46cf-4fe0-b687-9dbb599035f0",                        [{"hovertemplate": "<b>%{hovertext}</b><br><br>LATITUDE=%{lat}<br>LONGITUDE=%{lon}<br>Estimated Year Increase (\u00b0C)=%{marker.color}<extra></extra>", "hovertext": ["AGARTALA", "AHMADABAD", "AKOLA", "AKOLA", "ALLAHABAD", "ALLAHABAD_BAMHRAULI", "AMRITSAR", "AURANGABAD_CHIKALTH", "BALASORE", "BANGALORE", "BAREILLY", "BEGUMPETOBSY", "BELGAUM_SAMBRA", "BHOPAL_BAIRAGARH", "BHUBANESWAR", "BHUJ_RUDRAMATA", "BIKANER", "BOMBAY_COLABA", "BOMBAY_SANTACRUZ", "CALCUTTA_ALIPORE", "CALCUTTA_DUM_DUM", "CHERRAPUNJI", "CHERRA_POONJEE", "CHITRADURGA", "COIMBATORE_PEELAMED", "CUDDALORE", "DALTONGANJ", "DEHRADUN", "DIBRUGARH_MOHANBAR", "DUMKA", "DWARKA", "GADAG", "GANGANAGAR", "GAUHATI", "GAYA", "GOA_PANJIM", "GORAKHPUR", "GUNA", "GWALIOR", "HISSAR", "HONAVAR", "IMPHAL", "INDORE", "JABALPUR", "JAGDALPUR", "JAIPUR_SANGANER", "JAISALMER", "JHARSUGUDA", "JODHPUR", "KAKINADA", "KARAIKAL", "KODAIKANAL", "KOTA_AERODROME", "KOZHIKODE", "KURNOOL", "LUCKNOW_AMAUSI", "LUDHIANA", "MACHILIPATNAM", "MADRAS_MINAMBAKKAM", "MANGALORE_BAJPE", "MINICOY", "MINICOYOBSY", "MO_AMINI", "MO_RANCHI", "MUKTESWAR_KUMAON", "NAGPUR_SONEGAON", "NELLORE", "NEW_DELHI_PALAM", "NEW_DELHI_SAFDARJUN", "NORTH_LAKHIMPUR", "PAMBAN", "PATIALA", "PATNA", "PBO_ANANTAPUR", "PENDRA_ROAD", "POONA", "PORT_BLAIR", "RAIPUR", "RAJKOT", "RAMGUNDAM", "RATNAGIRI", "SAGAR", "SANDHEADS", "SATNA", "SHILONG", "SHIMLA", "SHOLAPUR", "SILCHAR", "SRINAGAR", "SURAT", "TEZPUR", "THIRUVANANTHAPURAM", "THIRUVANANTHAPURAM", "TIRUCHCHIRAPALLI", "TRIVANDRUM", "UDAIPUR_DABOK", "VARANASI_BABATPUR", "VERAVAL", "VISHAKHAPATNAM"], "lat": [23.883000000000003, 23.066999999999997, 20.7, 20.7, 25.441, 25.5, 31.71, 19.85, 21.517, 12.967, 28.366999999999997, 17.45, 15.85, 23.283, 20.25, 23.25, 28.0, 18.9, 19.117, 22.533, 22.65, 25.25, 25.25, 14.232999999999999, 11.033, 11.767000000000001, 24.05, 30.316999999999997, 27.483, 24.267, 22.3667, 15.417, 29.916999999999998, 26.1, 24.75, 15.482999999999999, 26.75, 24.65, 26.233, 29.166999999999998, 14.283, 24.666999999999998, 22.717, 23.2, 19.083, 26.816999999999997, 26.9, 21.916999999999998, 26.3, 16.95, 10.917, 10.2333, 25.15, 11.25, 15.8, 26.75, 30.9333, 16.2, 13.0, 12.917, 8.3, 8.3, 11.117, 23.316999999999997, 29.4667, 21.1, 14.45, 28.566999999999997, 28.583000000000002, 27.233, 9.267000000000001, 30.333000000000002, 25.6, 14.583, 22.767, 18.533, 11.667, 21.217, 22.3, 18.767, 16.983, 23.85, 20.85, 24.566999999999997, 25.6, 31.1, 17.667, 24.82, 34.083, 21.2, 26.616999999999997, 8.467, 8.482999999999999, 10.767000000000001, 8.5, 24.616999999999997, 25.45, 20.9, 17.717], "legendgroup": "", "lon": [91.25, 72.633, 77.033, 77.067, 81.735, 81.9, 74.797, 75.4, 86.93299999999999, 77.583, 79.4, 78.47, 74.617, 77.35, 85.833, 69.667, 73.3, 72.8167, 72.85, 88.333, 88.45, 91.7333, 91.73, 76.433, 77.05, 79.767, 84.06700000000001, 78.033, 95.01700000000001, 87.25, 69.0833, 75.633, 73.917, 91.583, 84.95, 73.817, 83.367, 77.317, 78.25, 75.733, 74.45, 93.9, 75.8, 79.95, 82.03299999999999, 75.8, 70.917, 84.083, 73.017, 82.23299999999999, 79.833, 77.4667, 75.85, 75.783, 78.067, 80.883, 75.8667, 81.15, 80.183, 74.883, 73.15, 73.0, 72.733, 85.31700000000001, 79.65, 79.05, 79.983, 77.117, 77.2, 94.117, 79.3, 76.467, 85.1, 77.633, 81.9, 73.85, 92.71700000000001, 81.667, 70.783, 79.433, 73.333, 78.75, 88.25, 80.833, 91.89, 77.167, 75.9, 92.83, 74.833, 72.833, 92.78299999999999, 76.95, 76.95, 78.717, 77.0, 73.883, 82.867, 70.367, 83.23299999999999], "marker": {"color": [-0.00618, 0.00673, -0.00178, -0.00594, -0.02938, -0.01546, -0.007, 0.01243, -0.00854, 0.03605, -0.01692, 0.01066, -0.00359, -0.02214, -0.01613, 0.06992, 0.01718, 0.01145, 0.03473, -0.01035, -0.01618, 0.04651, -0.02197, 0.01559, 0.03437, 0.02081, -0.00462, 0.04361, 0.05196, -0.08209, 0.01696, 0.00892, -0.00758, 0.0141, -0.01813, 0.0224, 0.00394, -0.00917, -0.0184, -0.00338, -0.04917, 0.06331, 0.00301, -0.02523, -0.00014, 0.00675, 0.00262, -0.01848, 0.00968, 0.02602, 0.02129, 0.06909, -0.01858, 0.03339, 0.02565, -0.03723, 0.13179, 0.01227, 0.02374, 0.02329, 0.02521, 0.01411, -0.00625, 0.00527, 0.01548, -0.02462, 0.02347, 0.00559, -0.00241, 0.09548, 0.02484, -0.01165, -0.02186, 0.02626, -0.00955, -0.00044, 0.03073, 0.00143, 0.01569, -0.00888, 0.00324, 0.00154, -0.05245, -0.02261, 0.01345, 0.00401, 0.00378, 0.01608, 0.04876, 0.0232, 0.03942, 0.00858, 0.02058, 0.01461, 0.02289, 0.07242, -0.013, 0.02485, -0.03405], "coloraxis": "coloraxis"}, "mode": "markers", "name": "", "showlegend": false, "subplot": "mapbox", "type": "scattermapbox"}],                        {"coloraxis": {"cmid": 0, "colorbar": {"title": {"text": "Estimated Year Increase (\u00b0C)"}}, "colorscale": [[0.0, "rgb(26,26,26)"], [0.1, "rgb(77,77,77)"], [0.2, "rgb(135,135,135)"], [0.3, "rgb(186,186,186)"], [0.4, "rgb(224,224,224)"], [0.5, "rgb(255,255,255)"], [0.6, "rgb(253,219,199)"], [0.7, "rgb(244,165,130)"], [0.8, "rgb(214,96,77)"], [0.9, "rgb(178,24,43)"], [1.0, "rgb(103,0,31)"]]}, "legend": {"tracegroupgap": 0}, "mapbox": {"center": {"lat": 21.042010101010096, "lon": 79.63467373737372}, "domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "style": "carto-positron", "zoom": 2}, "margin": {"b": 0, "l": 0, "r": 0, "t": 30}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Estimates of Yearly Increase in Temperature in January for Stations in India, years 1980-2020"}},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('50fe53a3-46cf-4fe0-b687-9dbb599035f0');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>



```python
def query_climate_database2(country,year,month):
    '''
    Returns a pandas dataframe with the specified information in arguments for query
    Input: country (a string), year_begin (integer), year_end (integer), month (integer)
    Output: a pandas dataframe of temperature readings for the specified country, in the specified date range, in the specified month of the year. 
    '''
    
    cmd = \
    f"""
    SELECT S.name, S.latitude, S.longitude, S.stnelev, C.name, T.year, T.month, T.temp
    FROM temperatures T
    LEFT JOIN stations S ON T.id = S.id 
    LEFT JOIN countries C ON S.'ID2' = C.`FIPS 10-4`
    WHERE C.name = '{country}' AND T.year = {year} AND T.month = {month}
    """
    
    df = pd.read_sql_query(cmd, conn)
    return df
```

How does average temperature change as elevation increases in India in July 2013?


```python
def temperature_scatterplot(country,year,month):
    '''
    Plots the scatterplot of latitude and longitude with points of different temperature intensity for each station
    Input: country, a string, year, an integer, month, an integer
    Output: a figure is shown, nothing is returned
    '''
    monthsDict = {1:"January", 2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}
    df = query_climate_database2(country,year,month)
    df=df.groupby(["NAME","STNELEV"])["Temp"].apply(np.mean)
    df=df.reset_index()
    fig = px.scatter(data_frame = df,  
                     x = "STNELEV", 
                     y = "Temp",
                     color = "NAME",
                     hover_name = "NAME",
                     title=f"Elevation and Temperature in {country} in {monthsDict[month]} of {year}",
                     width = 500,
                     height = 300)

    # reduce whitespace
    fig.update_layout(margin={"r":0,"t":30,"l":0,"b":0})
    # show the plot
    fig.show()
```


```python
temperature_scatterplot("India",2013,7)
```


<div>                            <div id="03984391-b2f0-480c-994b-0da9b17f1b4b" class="plotly-graph-div" style="height:300px; width:500px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("03984391-b2f0-480c-994b-0da9b17f1b4b")) {                    Plotly.newPlot(                        "03984391-b2f0-480c-994b-0da9b17f1b4b",                        [{"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=AGARTALA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["AGARTALA"], "legendgroup": "AGARTALA", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "AGARTALA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [16.0], "xaxis": "x", "y": [30.09], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=AHMADABAD<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["AHMADABAD"], "legendgroup": "AHMADABAD", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "AHMADABAD", "orientation": "v", "showlegend": true, "type": "scatter", "x": [55.0], "xaxis": "x", "y": [28.3], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=AKOLA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["AKOLA", "AKOLA"], "legendgroup": "AKOLA", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "AKOLA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [282.0, 305.0], "xaxis": "x", "y": [27.0, 26.73], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=ALLAHABAD<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["ALLAHABAD"], "legendgroup": "ALLAHABAD", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "ALLAHABAD", "orientation": "v", "showlegend": true, "type": "scatter", "x": [98.1], "xaxis": "x", "y": [30.7], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=ALLAHABAD_BAMHRAULI<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["ALLAHABAD_BAMHRAULI"], "legendgroup": "ALLAHABAD_BAMHRAULI", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "ALLAHABAD_BAMHRAULI", "orientation": "v", "showlegend": true, "type": "scatter", "x": [98.0], "xaxis": "x", "y": [30.7], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=AMRITSAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["AMRITSAR"], "legendgroup": "AMRITSAR", "marker": {"color": "#19d3f3", "symbol": "circle"}, "mode": "markers", "name": "AMRITSAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [230.4], "xaxis": "x", "y": [31.29], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=AURANGABAD_CHIKALTH<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["AURANGABAD_CHIKALTH"], "legendgroup": "AURANGABAD_CHIKALTH", "marker": {"color": "#FF6692", "symbol": "circle"}, "mode": "markers", "name": "AURANGABAD_CHIKALTH", "orientation": "v", "showlegend": true, "type": "scatter", "x": [579.0], "xaxis": "x", "y": [25.82], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BALASORE<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BALASORE"], "legendgroup": "BALASORE", "marker": {"color": "#B6E880", "symbol": "circle"}, "mode": "markers", "name": "BALASORE", "orientation": "v", "showlegend": true, "type": "scatter", "x": [20.0], "xaxis": "x", "y": [28.79], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BANGALORE<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BANGALORE"], "legendgroup": "BANGALORE", "marker": {"color": "#FF97FF", "symbol": "circle"}, "mode": "markers", "name": "BANGALORE", "orientation": "v", "showlegend": true, "type": "scatter", "x": [921.0], "xaxis": "x", "y": [23.6], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BAREILLY<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BAREILLY"], "legendgroup": "BAREILLY", "marker": {"color": "#FECB52", "symbol": "circle"}, "mode": "markers", "name": "BAREILLY", "orientation": "v", "showlegend": true, "type": "scatter", "x": [169.0], "xaxis": "x", "y": [27.92], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BEGUMPETOBSY<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BEGUMPETOBSY"], "legendgroup": "BEGUMPETOBSY", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "BEGUMPETOBSY", "orientation": "v", "showlegend": true, "type": "scatter", "x": [527.0], "xaxis": "x", "y": [25.57], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BELGAUM_SAMBRA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BELGAUM_SAMBRA"], "legendgroup": "BELGAUM_SAMBRA", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "BELGAUM_SAMBRA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [747.0], "xaxis": "x", "y": [22.3], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BHOPAL_BAIRAGARH<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BHOPAL_BAIRAGARH"], "legendgroup": "BHOPAL_BAIRAGARH", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "BHOPAL_BAIRAGARH", "orientation": "v", "showlegend": true, "type": "scatter", "x": [523.0], "xaxis": "x", "y": [25.7], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BHUBANESWAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BHUBANESWAR"], "legendgroup": "BHUBANESWAR", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "BHUBANESWAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [46.0], "xaxis": "x", "y": [28.2], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BHUJ_RUDRAMATA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BHUJ_RUDRAMATA"], "legendgroup": "BHUJ_RUDRAMATA", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "BHUJ_RUDRAMATA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [80.0], "xaxis": "x", "y": [29.54], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BIKANER<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BIKANER"], "legendgroup": "BIKANER", "marker": {"color": "#19d3f3", "symbol": "circle"}, "mode": "markers", "name": "BIKANER", "orientation": "v", "showlegend": true, "type": "scatter", "x": [224.0], "xaxis": "x", "y": [33.9], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BOMBAY_COLABA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BOMBAY_COLABA"], "legendgroup": "BOMBAY_COLABA", "marker": {"color": "#FF6692", "symbol": "circle"}, "mode": "markers", "name": "BOMBAY_COLABA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [11.0], "xaxis": "x", "y": [26.85], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=BOMBAY_SANTACRUZ<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["BOMBAY_SANTACRUZ"], "legendgroup": "BOMBAY_SANTACRUZ", "marker": {"color": "#B6E880", "symbol": "circle"}, "mode": "markers", "name": "BOMBAY_SANTACRUZ", "orientation": "v", "showlegend": true, "type": "scatter", "x": [14.0], "xaxis": "x", "y": [28.14], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=CALCUTTA_ALIPORE<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["CALCUTTA_ALIPORE"], "legendgroup": "CALCUTTA_ALIPORE", "marker": {"color": "#FF97FF", "symbol": "circle"}, "mode": "markers", "name": "CALCUTTA_ALIPORE", "orientation": "v", "showlegend": true, "type": "scatter", "x": [6.0], "xaxis": "x", "y": [29.72], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=CALCUTTA_DUM_DUM<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["CALCUTTA_DUM_DUM"], "legendgroup": "CALCUTTA_DUM_DUM", "marker": {"color": "#FECB52", "symbol": "circle"}, "mode": "markers", "name": "CALCUTTA_DUM_DUM", "orientation": "v", "showlegend": true, "type": "scatter", "x": [6.0], "xaxis": "x", "y": [29.74], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=CHERRAPUNJI<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["CHERRAPUNJI"], "legendgroup": "CHERRAPUNJI", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "CHERRAPUNJI", "orientation": "v", "showlegend": true, "type": "scatter", "x": [1313.0], "xaxis": "x", "y": [20.08], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=CHITRADURGA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["CHITRADURGA"], "legendgroup": "CHITRADURGA", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "CHITRADURGA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [733.0], "xaxis": "x", "y": [23.49], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=COIMBATORE_PEELAMED<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["COIMBATORE_PEELAMED"], "legendgroup": "COIMBATORE_PEELAMED", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "COIMBATORE_PEELAMED", "orientation": "v", "showlegend": true, "type": "scatter", "x": [399.0], "xaxis": "x", "y": [25.96], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=CUDDALORE<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["CUDDALORE"], "legendgroup": "CUDDALORE", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "CUDDALORE", "orientation": "v", "showlegend": true, "type": "scatter", "x": [12.0], "xaxis": "x", "y": [30.31], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=DALTONGANJ<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["DALTONGANJ"], "legendgroup": "DALTONGANJ", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "DALTONGANJ", "orientation": "v", "showlegend": true, "type": "scatter", "x": [221.0], "xaxis": "x", "y": [29.97], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=DEHRADUN<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["DEHRADUN"], "legendgroup": "DEHRADUN", "marker": {"color": "#19d3f3", "symbol": "circle"}, "mode": "markers", "name": "DEHRADUN", "orientation": "v", "showlegend": true, "type": "scatter", "x": [682.0], "xaxis": "x", "y": [27.19], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=DIBRUGARH_MOHANBAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["DIBRUGARH_MOHANBAR"], "legendgroup": "DIBRUGARH_MOHANBAR", "marker": {"color": "#FF6692", "symbol": "circle"}, "mode": "markers", "name": "DIBRUGARH_MOHANBAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [111.0], "xaxis": "x", "y": [27.63], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=DWARKA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["DWARKA"], "legendgroup": "DWARKA", "marker": {"color": "#B6E880", "symbol": "circle"}, "mode": "markers", "name": "DWARKA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [10.0], "xaxis": "x", "y": [28.0], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=GADAG<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["GADAG"], "legendgroup": "GADAG", "marker": {"color": "#FF97FF", "symbol": "circle"}, "mode": "markers", "name": "GADAG", "orientation": "v", "showlegend": true, "type": "scatter", "x": [650.0], "xaxis": "x", "y": [23.65], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=GANGANAGAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["GANGANAGAR"], "legendgroup": "GANGANAGAR", "marker": {"color": "#FECB52", "symbol": "circle"}, "mode": "markers", "name": "GANGANAGAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [177.0], "xaxis": "x", "y": [33.56], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=GAUHATI<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["GAUHATI"], "legendgroup": "GAUHATI", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "GAUHATI", "orientation": "v", "showlegend": true, "type": "scatter", "x": [54.0], "xaxis": "x", "y": [29.38], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=GAYA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["GAYA"], "legendgroup": "GAYA", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "GAYA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [116.0], "xaxis": "x", "y": [30.0], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=GOA_PANJIM<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["GOA_PANJIM"], "legendgroup": "GOA_PANJIM", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "GOA_PANJIM", "orientation": "v", "showlegend": true, "type": "scatter", "x": [60.0], "xaxis": "x", "y": [25.7], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=GORAKHPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["GORAKHPUR"], "legendgroup": "GORAKHPUR", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "GORAKHPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [77.0], "xaxis": "x", "y": [30.11], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=GUNA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["GUNA"], "legendgroup": "GUNA", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "GUNA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [478.0], "xaxis": "x", "y": [26.77], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=GWALIOR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["GWALIOR"], "legendgroup": "GWALIOR", "marker": {"color": "#19d3f3", "symbol": "circle"}, "mode": "markers", "name": "GWALIOR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [207.0], "xaxis": "x", "y": [29.16], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=HISSAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["HISSAR"], "legendgroup": "HISSAR", "marker": {"color": "#FF6692", "symbol": "circle"}, "mode": "markers", "name": "HISSAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [221.0], "xaxis": "x", "y": [30.97], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=HONAVAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["HONAVAR"], "legendgroup": "HONAVAR", "marker": {"color": "#B6E880", "symbol": "circle"}, "mode": "markers", "name": "HONAVAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [9.0], "xaxis": "x", "y": [25.25], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=IMPHAL<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["IMPHAL"], "legendgroup": "IMPHAL", "marker": {"color": "#FF97FF", "symbol": "circle"}, "mode": "markers", "name": "IMPHAL", "orientation": "v", "showlegend": true, "type": "scatter", "x": [774.0], "xaxis": "x", "y": [27.37], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=INDORE<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["INDORE"], "legendgroup": "INDORE", "marker": {"color": "#FECB52", "symbol": "circle"}, "mode": "markers", "name": "INDORE", "orientation": "v", "showlegend": true, "type": "scatter", "x": [567.0], "xaxis": "x", "y": [24.5], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=JABALPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["JABALPUR"], "legendgroup": "JABALPUR", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "JABALPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [393.0], "xaxis": "x", "y": [27.82], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=JAGDALPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["JAGDALPUR"], "legendgroup": "JAGDALPUR", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "JAGDALPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [553.0], "xaxis": "x", "y": [24.7], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=JAIPUR_SANGANER<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["JAIPUR_SANGANER"], "legendgroup": "JAIPUR_SANGANER", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "JAIPUR_SANGANER", "orientation": "v", "showlegend": true, "type": "scatter", "x": [390.0], "xaxis": "x", "y": [29.49], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=JAISALMER<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["JAISALMER"], "legendgroup": "JAISALMER", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "JAISALMER", "orientation": "v", "showlegend": true, "type": "scatter", "x": [231.0], "xaxis": "x", "y": [33.4], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=JHARSUGUDA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["JHARSUGUDA"], "legendgroup": "JHARSUGUDA", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "JHARSUGUDA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [230.0], "xaxis": "x", "y": [28.39], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=JODHPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["JODHPUR"], "legendgroup": "JODHPUR", "marker": {"color": "#19d3f3", "symbol": "circle"}, "mode": "markers", "name": "JODHPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [224.0], "xaxis": "x", "y": [31.5], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=KAKINADA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["KAKINADA"], "legendgroup": "KAKINADA", "marker": {"color": "#FF6692", "symbol": "circle"}, "mode": "markers", "name": "KAKINADA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [8.0], "xaxis": "x", "y": [28.54], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=KARAIKAL<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["KARAIKAL"], "legendgroup": "KARAIKAL", "marker": {"color": "#B6E880", "symbol": "circle"}, "mode": "markers", "name": "KARAIKAL", "orientation": "v", "showlegend": true, "type": "scatter", "x": [7.0], "xaxis": "x", "y": [31.67], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=KOTA_AERODROME<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["KOTA_AERODROME"], "legendgroup": "KOTA_AERODROME", "marker": {"color": "#FF97FF", "symbol": "circle"}, "mode": "markers", "name": "KOTA_AERODROME", "orientation": "v", "showlegend": true, "type": "scatter", "x": [274.0], "xaxis": "x", "y": [28.8], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=KURNOOL<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["KURNOOL"], "legendgroup": "KURNOOL", "marker": {"color": "#FECB52", "symbol": "circle"}, "mode": "markers", "name": "KURNOOL", "orientation": "v", "showlegend": true, "type": "scatter", "x": [281.0], "xaxis": "x", "y": [28.23], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=MACHILIPATNAM<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["MACHILIPATNAM"], "legendgroup": "MACHILIPATNAM", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "MACHILIPATNAM", "orientation": "v", "showlegend": true, "type": "scatter", "x": [3.0], "xaxis": "x", "y": [29.5], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=MADRAS_MINAMBAKKAM<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["MADRAS_MINAMBAKKAM"], "legendgroup": "MADRAS_MINAMBAKKAM", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "MADRAS_MINAMBAKKAM", "orientation": "v", "showlegend": true, "type": "scatter", "x": [16.0], "xaxis": "x", "y": [29.7], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=MANGALORE_BAJPE<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["MANGALORE_BAJPE"], "legendgroup": "MANGALORE_BAJPE", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "MANGALORE_BAJPE", "orientation": "v", "showlegend": true, "type": "scatter", "x": [102.0], "xaxis": "x", "y": [25.6], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=MINICOY<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["MINICOY"], "legendgroup": "MINICOY", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "MINICOY", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2.0], "xaxis": "x", "y": [27.92], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=MINICOYOBSY<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["MINICOYOBSY"], "legendgroup": "MINICOYOBSY", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "MINICOYOBSY", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2.0], "xaxis": "x", "y": [27.7], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=MO_AMINI<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["MO_AMINI"], "legendgroup": "MO_AMINI", "marker": {"color": "#19d3f3", "symbol": "circle"}, "mode": "markers", "name": "MO_AMINI", "orientation": "v", "showlegend": true, "type": "scatter", "x": [3.0], "xaxis": "x", "y": [27.41], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=MO_RANCHI<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["MO_RANCHI"], "legendgroup": "MO_RANCHI", "marker": {"color": "#FF6692", "symbol": "circle"}, "mode": "markers", "name": "MO_RANCHI", "orientation": "v", "showlegend": true, "type": "scatter", "x": [652.0], "xaxis": "x", "y": [26.35], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=MUKTESWAR_KUMAON<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["MUKTESWAR_KUMAON"], "legendgroup": "MUKTESWAR_KUMAON", "marker": {"color": "#B6E880", "symbol": "circle"}, "mode": "markers", "name": "MUKTESWAR_KUMAON", "orientation": "v", "showlegend": true, "type": "scatter", "x": [2311.0], "xaxis": "x", "y": [17.45], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=NAGPUR_SONEGAON<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["NAGPUR_SONEGAON"], "legendgroup": "NAGPUR_SONEGAON", "marker": {"color": "#FF97FF", "symbol": "circle"}, "mode": "markers", "name": "NAGPUR_SONEGAON", "orientation": "v", "showlegend": true, "type": "scatter", "x": [310.0], "xaxis": "x", "y": [27.15], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=NELLORE<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["NELLORE"], "legendgroup": "NELLORE", "marker": {"color": "#FECB52", "symbol": "circle"}, "mode": "markers", "name": "NELLORE", "orientation": "v", "showlegend": true, "type": "scatter", "x": [20.0], "xaxis": "x", "y": [28.68], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=NEW_DELHI_PALAM<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["NEW_DELHI_PALAM"], "legendgroup": "NEW_DELHI_PALAM", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "NEW_DELHI_PALAM", "orientation": "v", "showlegend": true, "type": "scatter", "x": [233.0], "xaxis": "x", "y": [30.33], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=NEW_DELHI_SAFDARJUN<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["NEW_DELHI_SAFDARJUN"], "legendgroup": "NEW_DELHI_SAFDARJUN", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "NEW_DELHI_SAFDARJUN", "orientation": "v", "showlegend": true, "type": "scatter", "x": [216.0], "xaxis": "x", "y": [31.0], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=NORTH_LAKHIMPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["NORTH_LAKHIMPUR"], "legendgroup": "NORTH_LAKHIMPUR", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "NORTH_LAKHIMPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [102.0], "xaxis": "x", "y": [28.58], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=PAMBAN<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["PAMBAN"], "legendgroup": "PAMBAN", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "PAMBAN", "orientation": "v", "showlegend": true, "type": "scatter", "x": [11.0], "xaxis": "x", "y": [30.03], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=PATIALA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["PATIALA"], "legendgroup": "PATIALA", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "PATIALA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [251.0], "xaxis": "x", "y": [30.0], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=PATNA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["PATNA"], "legendgroup": "PATNA", "marker": {"color": "#19d3f3", "symbol": "circle"}, "mode": "markers", "name": "PATNA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [60.0], "xaxis": "x", "y": [30.27], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=PBO_ANANTAPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["PBO_ANANTAPUR"], "legendgroup": "PBO_ANANTAPUR", "marker": {"color": "#FF6692", "symbol": "circle"}, "mode": "markers", "name": "PBO_ANANTAPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [364.0], "xaxis": "x", "y": [28.32], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=PENDRA_ROAD<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["PENDRA_ROAD"], "legendgroup": "PENDRA_ROAD", "marker": {"color": "#B6E880", "symbol": "circle"}, "mode": "markers", "name": "PENDRA_ROAD", "orientation": "v", "showlegend": true, "type": "scatter", "x": [625.0], "xaxis": "x", "y": [25.65], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=POONA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["POONA"], "legendgroup": "POONA", "marker": {"color": "#FF97FF", "symbol": "circle"}, "mode": "markers", "name": "POONA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [559.0], "xaxis": "x", "y": [24.3], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=PORT_BLAIR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["PORT_BLAIR"], "legendgroup": "PORT_BLAIR", "marker": {"color": "#FECB52", "symbol": "circle"}, "mode": "markers", "name": "PORT_BLAIR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [79.0], "xaxis": "x", "y": [26.08], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=RAIPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["RAIPUR"], "legendgroup": "RAIPUR", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "RAIPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [294.0], "xaxis": "x", "y": [26.96], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=RAJKOT<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["RAJKOT"], "legendgroup": "RAJKOT", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "RAJKOT", "orientation": "v", "showlegend": true, "type": "scatter", "x": [138.0], "xaxis": "x", "y": [27.88], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=RAMGUNDAM<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["RAMGUNDAM"], "legendgroup": "RAMGUNDAM", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "RAMGUNDAM", "orientation": "v", "showlegend": true, "type": "scatter", "x": [156.0], "xaxis": "x", "y": [27.56], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=RATNAGIRI<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["RATNAGIRI"], "legendgroup": "RATNAGIRI", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "RATNAGIRI", "orientation": "v", "showlegend": true, "type": "scatter", "x": [67.0], "xaxis": "x", "y": [25.72], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=SAGAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["SAGAR"], "legendgroup": "SAGAR", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "SAGAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [551.0], "xaxis": "x", "y": [25.8], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=SATNA<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["SATNA"], "legendgroup": "SATNA", "marker": {"color": "#19d3f3", "symbol": "circle"}, "mode": "markers", "name": "SATNA", "orientation": "v", "showlegend": true, "type": "scatter", "x": [317.0], "xaxis": "x", "y": [28.12], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=SHOLAPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["SHOLAPUR"], "legendgroup": "SHOLAPUR", "marker": {"color": "#FF6692", "symbol": "circle"}, "mode": "markers", "name": "SHOLAPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [479.0], "xaxis": "x", "y": [25.44], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=SILCHAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["SILCHAR"], "legendgroup": "SILCHAR", "marker": {"color": "#B6E880", "symbol": "circle"}, "mode": "markers", "name": "SILCHAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [32.0], "xaxis": "x", "y": [29.5], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=SRINAGAR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["SRINAGAR"], "legendgroup": "SRINAGAR", "marker": {"color": "#FF97FF", "symbol": "circle"}, "mode": "markers", "name": "SRINAGAR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [1587.0], "xaxis": "x", "y": [25.2], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=SURAT<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["SURAT"], "legendgroup": "SURAT", "marker": {"color": "#FECB52", "symbol": "circle"}, "mode": "markers", "name": "SURAT", "orientation": "v", "showlegend": true, "type": "scatter", "x": [12.0], "xaxis": "x", "y": [27.7], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=TEZPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["TEZPUR"], "legendgroup": "TEZPUR", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "TEZPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [79.0], "xaxis": "x", "y": [29.55], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=TIRUCHCHIRAPALLI<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["TIRUCHCHIRAPALLI"], "legendgroup": "TIRUCHCHIRAPALLI", "marker": {"color": "#EF553B", "symbol": "circle"}, "mode": "markers", "name": "TIRUCHCHIRAPALLI", "orientation": "v", "showlegend": true, "type": "scatter", "x": [88.0], "xaxis": "x", "y": [32.21], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=UDAIPUR_DABOK<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["UDAIPUR_DABOK"], "legendgroup": "UDAIPUR_DABOK", "marker": {"color": "#00cc96", "symbol": "circle"}, "mode": "markers", "name": "UDAIPUR_DABOK", "orientation": "v", "showlegend": true, "type": "scatter", "x": [514.0], "xaxis": "x", "y": [27.27], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=VARANASI_BABATPUR<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["VARANASI_BABATPUR"], "legendgroup": "VARANASI_BABATPUR", "marker": {"color": "#ab63fa", "symbol": "circle"}, "mode": "markers", "name": "VARANASI_BABATPUR", "orientation": "v", "showlegend": true, "type": "scatter", "x": [85.0], "xaxis": "x", "y": [30.36], "yaxis": "y"}, {"hovertemplate": "<b>%{hovertext}</b><br><br>NAME=VERAVAL<br>STNELEV=%{x}<br>Temp=%{y}<extra></extra>", "hovertext": ["VERAVAL"], "legendgroup": "VERAVAL", "marker": {"color": "#FFA15A", "symbol": "circle"}, "mode": "markers", "name": "VERAVAL", "orientation": "v", "showlegend": true, "type": "scatter", "x": [8.0], "xaxis": "x", "y": [27.7], "yaxis": "y"}],                        {"height": 300, "legend": {"title": {"text": "NAME"}, "tracegroupgap": 0}, "margin": {"b": 0, "l": 0, "r": 0, "t": 30}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Elevation and Temperature in India in July of 2013"}, "width": 500, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "STNELEV"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "Temp"}}},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('03984391-b2f0-480c-994b-0da9b17f1b4b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>


It seems like as elevation increases, the temperature decreases. Maybe I should live in the mountains during the summer.


```python
def query_climate_database3(country,year_begin,year_end):
    '''
    Returns a pandas dataframe with the specified information in arguments for query
    Input: country (a string), year_begin (integer), year_end (integer), month (integer)
    Output: a pandas dataframe of temperature readings for the specified country, in the specified date range, in the specified month of the year. 
    '''
    
    cmd = \
    f"""
    SELECT S.name, S.latitude, S.longitude,S.stnelev, C.name, T.year, T.month, T.temp
    FROM temperatures T
    LEFT JOIN stations S ON T.id = S.id 
    LEFT JOIN countries C ON S.'ID2' = C.`FIPS 10-4`
    WHERE C.name = '{country}' AND T.year >= {year_begin} AND T.year <= {year_end}
    """
    
    df = pd.read_sql_query(cmd, conn)
    return df
```

I want to plot a graph to see how the temperature fluctuates as time goes on and to see if there are any significant increases in temperature.


```python
def temperature_linegraph(country,year_begin,year_end):
    '''
    Plots the line graph of the temperatures for each station as time goes on
    Input: country, a string, year_begin and year_end, an integer
    Output: a figure is shown, nothing is returned
    '''
    df = query_climate_database3(country,year_begin,year_end)
    df["Date"] = df["Year"].astype(str) + "-" + df["Month"].astype(str)
    df["Date"] = pd.to_datetime(df["Date"])
    fig = px.line(data_frame = df, 
                     x = "Date", 
                     y = "Temp",
                     color = "NAME",
                     hover_name = "NAME",
                     hover_data = ["STNELEV"],
                     title = f"Temperature Change Throughout Years {year_begin}-{year_end} in {country}",
                     width = 600,
                     height = 500)
    
    # reduce whitespace
    fig.update_layout(margin={"r":30,"t":30,"l":0,"b":0})
    # show the plot
    fig.show()
    
temperature_linegraph("Taiwan",2005,2013)
```


<div>                            <div id="0d9eb0f8-95c6-4a89-b7e0-d822e4a2800f" class="plotly-graph-div" style="height:500px; width:600px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("0d9eb0f8-95c6-4a89-b7e0-d822e4a2800f")) {                    Plotly.newPlot(                        "0d9eb0f8-95c6-4a89-b7e0-d822e4a2800f",                        [{"customdata": [[9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0], [9.0]], "hovertemplate": "<b>%{hovertext}</b><br><br>NAME=TAIBEI<br>Date=%{x}<br>Temp=%{y}<br>STNELEV=%{customdata[0]}<extra></extra>", "hovertext": ["TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI", "TAIBEI"], "legendgroup": "TAIBEI", "line": {"color": "#636efa", "dash": "solid"}, "mode": "lines", "name": "TAIBEI", "orientation": "v", "showlegend": true, "type": "scatter", "x": ["2005-02-01T00:00:00", "2005-03-01T00:00:00", "2005-04-01T00:00:00", "2005-05-01T00:00:00", "2005-06-01T00:00:00", "2005-07-01T00:00:00", "2005-08-01T00:00:00", "2005-09-01T00:00:00", "2005-10-01T00:00:00", "2005-11-01T00:00:00", "2005-12-01T00:00:00", "2006-01-01T00:00:00", "2006-02-01T00:00:00", "2006-03-01T00:00:00", "2006-04-01T00:00:00", "2006-05-01T00:00:00", "2006-06-01T00:00:00", "2006-07-01T00:00:00", "2006-08-01T00:00:00", "2006-09-01T00:00:00", "2006-10-01T00:00:00", "2006-11-01T00:00:00", "2006-12-01T00:00:00", "2007-01-01T00:00:00", "2007-02-01T00:00:00", "2007-03-01T00:00:00", "2007-04-01T00:00:00", "2007-05-01T00:00:00", "2007-06-01T00:00:00", "2007-07-01T00:00:00", "2007-08-01T00:00:00", "2007-10-01T00:00:00", "2007-11-01T00:00:00", "2007-12-01T00:00:00", "2008-01-01T00:00:00", "2008-02-01T00:00:00", "2008-04-01T00:00:00", "2008-05-01T00:00:00", "2008-06-01T00:00:00", "2008-07-01T00:00:00", "2008-08-01T00:00:00", "2008-09-01T00:00:00", "2008-10-01T00:00:00", "2008-11-01T00:00:00", "2008-12-01T00:00:00", "2009-01-01T00:00:00", "2009-02-01T00:00:00", "2009-03-01T00:00:00", "2009-04-01T00:00:00", "2009-05-01T00:00:00", "2009-06-01T00:00:00", "2009-07-01T00:00:00", "2009-08-01T00:00:00", "2009-09-01T00:00:00", "2009-10-01T00:00:00", "2009-12-01T00:00:00", "2010-01-01T00:00:00", "2010-02-01T00:00:00", "2010-03-01T00:00:00", "2010-04-01T00:00:00", "2010-05-01T00:00:00", "2010-06-01T00:00:00", "2010-07-01T00:00:00", "2010-08-01T00:00:00", "2010-09-01T00:00:00", "2010-10-01T00:00:00", "2010-11-01T00:00:00", "2010-12-01T00:00:00", "2011-01-01T00:00:00", "2011-02-01T00:00:00", "2011-03-01T00:00:00", "2011-04-01T00:00:00", "2011-05-01T00:00:00", "2011-06-01T00:00:00", "2011-07-01T00:00:00", "2011-08-01T00:00:00", "2011-09-01T00:00:00", "2011-10-01T00:00:00", "2011-11-01T00:00:00", "2011-12-01T00:00:00", "2012-01-01T00:00:00", "2012-02-01T00:00:00", "2012-03-01T00:00:00", "2012-04-01T00:00:00", "2012-05-01T00:00:00", "2012-06-01T00:00:00", "2012-07-01T00:00:00", "2012-08-01T00:00:00", "2012-09-01T00:00:00", "2012-10-01T00:00:00", "2012-11-01T00:00:00", "2012-12-01T00:00:00", "2013-01-01T00:00:00", "2013-02-01T00:00:00", "2013-03-01T00:00:00", "2013-04-01T00:00:00", "2013-05-01T00:00:00", "2013-06-01T00:00:00", "2013-07-01T00:00:00", "2013-08-01T00:00:00", "2013-09-01T00:00:00", "2013-10-01T00:00:00", "2013-11-01T00:00:00", "2013-12-01T00:00:00"], "xaxis": "x", "y": [16.11, 17.84, 23.45, 26.59, 28.67, 30.29, 29.8, 29.15, 25.12, 23.25, 16.63, 17.55, 17.96, 19.33, 23.34, 25.8, 28.58, 30.59, 30.22, 27.51, 25.97, 23.12, 18.3, 15.45, 18.85, 20.2, 21.42, 26.49, 28.47, 30.83, 29.18, 24.98, 20.71, 19.58, 16.83, 13.99, 22.38, 25.22, 28.25, 30.06, 30.29, 28.51, 26.37, 21.54, 18.6, 15.72, 20.73, 18.89, 21.67, 25.73, 28.57, 30.48, 30.2, 29.29, 24.44, 17.45, 17.23, 17.49, 20.12, 20.96, 25.45, 26.56, 30.7, 30.39, 29.3, 24.62, 21.28, 17.59, 13.68, 17.18, 16.25, 22.17, 25.09, 29.6, 30.22, 30.11, 28.03, 24.31, 23.09, 16.71, 15.89, 17.1, 18.72, 23.46, 26.37, 28.21, 31.0, 29.82, 27.58, 24.4, 21.58, 17.76, 16.84, 18.95, 20.25, 21.25, 26.44, 29.59, 30.09, 29.98, 28.26, 24.38, 21.15, 16.47], "yaxis": "y"}, {"customdata": [[102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0], [102.0]], "hovertemplate": "<b>%{hovertext}</b><br><br>NAME=PENGJIA_YU<br>Date=%{x}<br>Temp=%{y}<br>STNELEV=%{customdata[0]}<extra></extra>", "hovertext": ["PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU", "PENGJIA_YU"], "legendgroup": "PENGJIA_YU", "line": {"color": "#EF553B", "dash": "solid"}, "mode": "lines", "name": "PENGJIA_YU", "orientation": "v", "showlegend": true, "type": "scatter", "x": ["2005-02-01T00:00:00", "2005-03-01T00:00:00", "2005-04-01T00:00:00", "2005-05-01T00:00:00", "2005-06-01T00:00:00", "2005-08-01T00:00:00", "2005-09-01T00:00:00", "2005-10-01T00:00:00", "2005-11-01T00:00:00", "2005-12-01T00:00:00", "2006-01-01T00:00:00", "2006-02-01T00:00:00", "2006-04-01T00:00:00", "2006-05-01T00:00:00", "2006-06-01T00:00:00", "2006-07-01T00:00:00", "2006-10-01T00:00:00", "2006-11-01T00:00:00", "2006-12-01T00:00:00", "2007-01-01T00:00:00", "2007-02-01T00:00:00", "2007-03-01T00:00:00", "2007-04-01T00:00:00", "2007-06-01T00:00:00", "2007-07-01T00:00:00", "2007-08-01T00:00:00", "2007-10-01T00:00:00", "2007-11-01T00:00:00", "2007-12-01T00:00:00", "2008-01-01T00:00:00", "2008-02-01T00:00:00", "2008-04-01T00:00:00", "2008-05-01T00:00:00", "2008-06-01T00:00:00", "2008-07-01T00:00:00", "2008-08-01T00:00:00", "2008-10-01T00:00:00", "2008-11-01T00:00:00", "2008-12-01T00:00:00", "2009-01-01T00:00:00", "2009-02-01T00:00:00", "2009-03-01T00:00:00", "2009-04-01T00:00:00", "2009-05-01T00:00:00", "2009-06-01T00:00:00", "2009-07-01T00:00:00", "2009-09-01T00:00:00", "2009-10-01T00:00:00", "2009-12-01T00:00:00", "2010-01-01T00:00:00", "2010-03-01T00:00:00", "2010-04-01T00:00:00", "2010-05-01T00:00:00", "2010-07-01T00:00:00", "2010-08-01T00:00:00", "2010-09-01T00:00:00", "2010-10-01T00:00:00", "2010-11-01T00:00:00", "2010-12-01T00:00:00", "2011-01-01T00:00:00", "2011-02-01T00:00:00", "2011-03-01T00:00:00", "2011-04-01T00:00:00", "2011-05-01T00:00:00", "2011-06-01T00:00:00", "2011-07-01T00:00:00", "2011-08-01T00:00:00", "2011-09-01T00:00:00", "2011-10-01T00:00:00", "2011-11-01T00:00:00", "2011-12-01T00:00:00", "2012-01-01T00:00:00", "2012-02-01T00:00:00", "2012-03-01T00:00:00", "2012-04-01T00:00:00", "2012-05-01T00:00:00", "2012-06-01T00:00:00", "2012-07-01T00:00:00", "2012-08-01T00:00:00", "2012-09-01T00:00:00", "2012-10-01T00:00:00", "2012-11-01T00:00:00", "2012-12-01T00:00:00", "2013-01-01T00:00:00", "2013-02-01T00:00:00", "2013-03-01T00:00:00", "2013-04-01T00:00:00", "2013-05-01T00:00:00", "2013-06-01T00:00:00", "2013-09-01T00:00:00", "2013-10-01T00:00:00", "2013-11-01T00:00:00", "2013-12-01T00:00:00"], "xaxis": "x", "y": [15.38, 16.29, 21.43, 24.17, 26.79, 27.7, 27.12, 24.17, 21.8, 15.59, 16.53, 16.94, 21.19, 23.53, 26.55, 27.9, 24.93, 21.91, 17.32, 14.64, 17.93, 19.06, 19.59, 26.53, 29.13, 27.86, 23.99, 20.39, 18.76, 15.7, 13.75, 20.81, 23.5, 26.44, 27.87, 28.16, 24.86, 20.74, 17.76, 15.01, 18.57, 17.1, 19.91, 23.66, 26.47, 27.81, 27.46, 23.76, 16.68, 15.97, 17.8, 19.27, 23.15, 28.22, 28.6, 27.03, 23.56, 20.59, 16.83, 12.73, 16.17, 15.23, 20.28, 22.79, 26.73, 28.19, 28.6, 26.26, 23.54, 21.85, 16.15, 15.11, 15.96, 17.69, 21.62, 24.0, 26.11, 28.08, 27.7, 25.93, 23.6, 20.2, 16.65, 16.19, 17.59, 18.84, 20.18, 23.62, 26.69, 26.53, 23.57, 19.94, 15.89], "yaxis": "y"}, {"customdata": [[325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0], [325.0]], "hovertemplate": "<b>%{hovertext}</b><br><br>NAME=LAN_YU<br>Date=%{x}<br>Temp=%{y}<br>STNELEV=%{customdata[0]}<extra></extra>", "hovertext": ["LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU", "LAN_YU"], "legendgroup": "LAN_YU", "line": {"color": "#00cc96", "dash": "solid"}, "mode": "lines", "name": "LAN_YU", "orientation": "v", "showlegend": true, "type": "scatter", "x": ["2005-03-01T00:00:00", "2005-04-01T00:00:00", "2005-07-01T00:00:00", "2005-08-01T00:00:00", "2005-09-01T00:00:00", "2005-10-01T00:00:00", "2005-11-01T00:00:00", "2005-12-01T00:00:00", "2006-01-01T00:00:00", "2006-02-01T00:00:00", "2006-03-01T00:00:00", "2006-04-01T00:00:00", "2006-05-01T00:00:00", "2006-06-01T00:00:00", "2006-07-01T00:00:00", "2006-08-01T00:00:00", "2006-09-01T00:00:00", "2006-10-01T00:00:00", "2006-11-01T00:00:00", "2006-12-01T00:00:00", "2007-02-01T00:00:00", "2007-03-01T00:00:00", "2007-04-01T00:00:00", "2007-05-01T00:00:00", "2007-06-01T00:00:00", "2007-07-01T00:00:00", "2007-08-01T00:00:00", "2007-10-01T00:00:00", "2007-11-01T00:00:00", "2007-12-01T00:00:00", "2008-01-01T00:00:00", "2008-02-01T00:00:00", "2008-04-01T00:00:00", "2008-05-01T00:00:00", "2008-06-01T00:00:00", "2008-08-01T00:00:00", "2008-09-01T00:00:00", "2008-10-01T00:00:00", "2008-11-01T00:00:00", "2008-12-01T00:00:00", "2009-01-01T00:00:00", "2009-02-01T00:00:00", "2009-03-01T00:00:00", "2009-04-01T00:00:00", "2009-05-01T00:00:00", "2009-07-01T00:00:00", "2009-09-01T00:00:00", "2009-10-01T00:00:00", "2009-12-01T00:00:00", "2010-01-01T00:00:00", "2010-02-01T00:00:00", "2010-04-01T00:00:00", "2010-05-01T00:00:00", "2010-07-01T00:00:00", "2010-08-01T00:00:00", "2010-09-01T00:00:00", "2010-11-01T00:00:00", "2010-12-01T00:00:00", "2011-01-01T00:00:00", "2011-02-01T00:00:00", "2011-03-01T00:00:00", "2011-04-01T00:00:00", "2011-05-01T00:00:00", "2011-06-01T00:00:00", "2011-07-01T00:00:00", "2011-08-01T00:00:00", "2011-09-01T00:00:00", "2011-10-01T00:00:00", "2011-11-01T00:00:00", "2011-12-01T00:00:00", "2012-01-01T00:00:00", "2012-02-01T00:00:00", "2012-03-01T00:00:00", "2012-04-01T00:00:00", "2012-05-01T00:00:00", "2012-06-01T00:00:00", "2012-07-01T00:00:00", "2012-08-01T00:00:00", "2012-09-01T00:00:00", "2012-10-01T00:00:00", "2012-11-01T00:00:00", "2012-12-01T00:00:00", "2013-01-01T00:00:00", "2013-02-01T00:00:00", "2013-03-01T00:00:00", "2013-04-01T00:00:00", "2013-05-01T00:00:00", "2013-06-01T00:00:00", "2013-07-01T00:00:00", "2013-08-01T00:00:00", "2013-09-01T00:00:00", "2013-10-01T00:00:00", "2013-11-01T00:00:00", "2013-12-01T00:00:00"], "xaxis": "x", "y": [18.52, 23.08, 26.51, 26.15, 25.97, 23.99, 22.23, 18.12, 19.02, 19.36, 20.94, 23.27, 25.32, 26.18, 26.56, 26.43, 25.19, 24.37, 22.84, 19.84, 20.6, 21.19, 21.86, 24.65, 26.77, 27.35, 26.12, 24.14, 21.31, 20.82, 19.18, 17.52, 23.14, 24.11, 25.77, 25.95, 25.75, 24.93, 22.42, 19.92, 18.06, 21.06, 20.83, 21.33, 24.06, 26.48, 26.4, 24.4, 19.28, 18.91, 20.71, 22.14, 24.26, 26.33, 26.19, 25.12, 21.09, 18.81, 16.11, 18.77, 17.78, 20.77, 23.67, 25.4, 25.56, 26.2, 24.99, 23.43, 22.43, 18.52, 18.04, 19.5, 20.9, 22.72, 24.61, 25.44, 25.96, 25.48, 24.91, 22.87, 21.27, 19.46, 18.52, 20.41, 21.21, 21.4, 24.09, 26.62, 26.09, 25.83, 25.05, 23.32, 21.09, 18.29], "yaxis": "y"}],                        {"height": 500, "legend": {"title": {"text": "NAME"}, "tracegroupgap": 0}, "margin": {"b": 0, "l": 0, "r": 30, "t": 30}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "autotypenumbers": "strict", "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Temperature Change Throughout Years 2005-2013 in Taiwan"}, "width": 600, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "Date"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "Temp"}}},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('0d9eb0f8-95c6-4a89-b7e0-d822e4a2800f');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>


It seems like this graph shows that there are no out of the ordinary temperatures in the average temperatures from 2005 to 2013. The temperature fluctuates as there are different seasons, but the temperature doesn't seem to be increasing that much over these years. Unfortunately, the data collected ends at 2013, so we can't really see how temperature has changed further from that point. Maybe global warming has worsened after 2013 and there is a steady increase in temperature. 


```python
conn.close()
```
